<ion-header>
    <ion-navbar color="navber">
      <ion-title>มิติมุมมองตาม Time <br>
        ผู้ใช้งาน : {{username}}</ion-title>
    </ion-navbar>
  </ion-header>
  
<ion-content>
   
   
    <ion-item style="background-color:#D0DFE6;" text-center>
        <h1 class="header-style">ตารางแสดงภาษีประจำปีงบประมาณปัจจุบัน</h1>
        <h1 class="header-style">ข้อมูล ณ วันที่ {{dateDisplay}} </h1>
      </ion-item>
    
    <h3 style="padding-right: 2%" class="td-right">หน่วย : ล้านบาท</h3>
    <ion-card>
        <ion-item  class="size" >
            <ion-label style="max-width: 8vw !important;">ปี : </ion-label>
            <ion-select  [(ngModel)]="TaxYear" (ionChange)="getItemTax(TaxYear)" >
              <ion-option value=""  [selected]="true">ทั้งหมด</ion-option>
              <ion-option  *ngFor="let item of YearTax"  value="{{item.BUDGET_YEAR}}">{{item.BUDGET_YEAR}}</ion-option>
            </ion-select>
        </ion-item>
      <ion-card-content no-padding>
        <div class="table-responsive">
          <table style="width: 100%;" >
            <thead>
              <tr style="background-color: #F78B26; ">
                <th width="10%"><h3 class='th-center'>เดือน</h3></th>
                <th><h3 class='th-center'>ปีนี้</h3></th>
                <th><h3 class='th-center'>ปีก่อน</h3></th>
                <th><h3 class='th-center'>ประมาณการ</h3></th>
                <th  width="10%"><h3 class='th-center'>+/-</h3></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let data of DataCurYear">
                <td width="10%"><h3 class='td-center'>{{data.BUDGET_MONTH_DESC}}</h3></td>
                <td><h3 class='td-right'>{{data.TAX}}</h3></td>
                <td><h3 class='td-right'>{{data.LAST_TAX}}</h3></td>
                <td><h3 class='td-right'>{{data.ESTIMATE}}</h3></td>
            <td width="10%">
              <h3 *ngIf="data.MAP_COLOR1 == 1" class='td-center'>
                <img class="img-size" src="../../assets/imgs/red1.png" />
              </h3>
              <h3 *ngIf="data.MAP_COLOR1 == 2 " class='td-center'>
                <img class="img-size" src="../../assets/imgs/yellow1.png" />
              </h3>
              <h3 *ngIf="data.MAP_COLOR1 == 3 " class='td-center'>
                <img class="img-size" src="../../assets/imgs/green1.png" />
              </h3>
              <h3 *ngIf="data.MAP_COLOR1 == 4 " class='td-center'>
                <img class="img-size" src="../../assets/imgs/green2.png" />
              </h3>
            </td>           
          </tr>
            </tbody>
          </table>
        </div>
      </ion-card-content>
    </ion-card>
  
    <h1 class="header-style">ตารางแสดงภาษีประจำปีงบประมาณปัจจุบัน ตามประเภทสินค้า</h1>
      <h3 style="padding-right: 2%" class="td-right">หน่วย : ล้านบาท</h3>
      <ion-card>
          <ion-item  class="size">
              <ion-label style="max-width: 8vw !important;">ปี : </ion-label>
              <ion-select  [(ngModel)]="prodYear" (ionChange)="getitemsProd(prodYear)" >
                <ion-option value=""  [selected]="true">ทั้งหมด</ion-option>
                <ion-option  *ngFor="let item of YearProduct"  value="{{item.BUDGET_YEAR}}">{{item.BUDGET_YEAR}}</ion-option>
              </ion-select>
          </ion-item>
          
        <ion-card-content no-padding>
          <div class="table-responsive">
            <table style="width: 100%;" >
              <thead>
                <tr style="background-color: #F78B26; ">
                  <th><h3 class='td-center'>สินค้า</h3></th>
                  <th><h3 class='td-center'>ปีนี้</h3></th>
                  <th><h3 class='td-center'>ปีก่อน</h3></th>
                  <th><h3 class='td-center'>ประมาณการ</h3></th>
                  <th width="10%"><h3 class='td-center'>+/-</h3></th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let data of DataProduct">
                  <td><h3 class='td-left'>{{data.GROUP_NAME}}</h3></td>
                  <td><h3 class='td-right'>{{data.TAX}}</h3></td>
                  <td><h3 class='td-right'>{{data.LAST_TAX}}</h3></td>
                  <td><h3 class='td-right'>{{data.ESTIMATE}}</h3></td>
                  <td width="10%">
                      <h3 *ngIf="data.MAP_COLOR == 1" class='td-center'>
                        <img class="img-size" src="../../assets/imgs/red1.png" />
                      </h3>
                      <h3 *ngIf="data.MAP_COLOR == 2 " class='td-center'>
                        <img class="img-size" src="../../assets/imgs/yellow1.png" />
                      </h3>
                      <h3 *ngIf="data.MAP_COLOR == 3 " class='td-center'>
                        <img class="img-size" src="../../assets/imgs/green1.png" />
                      </h3>
                      <h3 *ngIf="data.MAP_COLOR == 4 " class='td-center'>
                        <img class="img-size" src="../../assets/imgs/green2.png" />
                      </h3>
                    </td>         
                </tr>
              </tbody>
            </table>
          </div>
        </ion-card-content>
      </ion-card>
  
      <div padding>
          <p class="DataStatus-font"> หมายเหตุ : 
            <br><img class="desc-img-size" src="../../assets/imgs/green2.png" />&nbsp;สูงกว่าประมาณการเกิน 5%
            <br><img class="desc-img-size" src="../../assets/imgs/green1.png" />&nbsp;สูงกว่าประมาณการไม่เกิน 5%
            <br><img class="desc-img-size" src="../../assets/imgs/yellow1.png" />&nbsp;ตามประมาณการไม่เกิน 5%
            <br><img class="desc-img-size" src="../../assets/imgs/red1.png" />&nbsp;ต่ำกว่าประมาณการเกิน 5%
          </p>
        </div>


</ion-content>













  <!--<ion-content>
        <ion-item style="background-color:#D0DFE6;" text-center>
                    <h1 class="header-style">รายงานประมาณการปีงบประมาณ</h1>
                    <h2 class="header-style">ตั้งแต่วันที่ .........</h2>
        </ion-item>

        <ion-item  class="size">
            <ion-label >ปี : </ion-label>
            <ion-select  [(ngModel)]="dataYear" (ionChange)="getitemsByDate(dataYear)" >
              <ion-option value=""  [selected]="true">ทั้งหมด</ion-option>
              <ion-option  *ngFor="let item of summaryDate"  value="{{item.key}}">{{item.key}}</ion-option>
            </ion-select>
        </ion-item>

        <h3 style="padding-right: 2%" class="right">หน่วย : ล้านบาท</h3>
        <ion-card>

        <ion-card-content no-padding>    
                <div class="table-responsive">
                        <table class="table" style="width: 100%;">
                            <thead>
                              <tr style="background-color: #F78B26; ">
                                  <!--<th ><h3 class="table-title">ลำดับ</h3></th>
                                  <th width="20%"><h3 class="table-title">กลุ่มสินค้า</h3></th>
                                  <th><h3 class="table-title">ต.ค</h3></th>
                                  <th><h3 class="table-title">พ.ย</h3></th>
                                  <th><h3 class="table-title">ธ.ค</h3></th>
                                  <th><h3 class="table-title">ม.ค</h3></th>
                                  <th><h3 class="table-title">ก.พ</h3></th>
                                  <th><h3 class="table-title">มี.ค</h3></th>
                                  <th><h3 class="table-title">เม.ย</h3></th>
                                  <th><h3 class="table-title">พ.ค</h3></th>
                                  <th><h3 class="table-title">มิ.ย</h3></th>
                                  <th><h3 class="table-title">ก.ค</h3></th>
                                  <th><h3 class="table-title">ส.ค</h3></th>
                                  <th><h3 class="table-title">ก.ย</h3></th>
                          </tr>
                        </thead>
                        <tbody>
                                <tr *ngFor="let data of responseData">
                                       <td ><p class="center">{{data.SORT}}</p></td>
                                        <td ><h3 class="left">{{data.GROUP_NAME}}</h3></td>
                                        <td><h3 class="right">{{data.OCT}}</h3></td>
                                        <td><h3 class="right">{{data.NOV}}</h3></td>
                                        <td><h3 class="right">{{data.DEC}}</h3></td>
                                        <td><h3 class="right">{{data.JAN}}</h3></td>
                                        <td><h3 class="right">{{data.FEB}}</h3></td>
                                        <td><h3 class="right">{{data.MAR}}</h3></td>
                                        <td><h3 class="right">{{data.APL}}</h3></td>
                                        <td><h3 class="right">{{data.MAY}}</h3></td>
                                        <td><h3 class="right">{{data.JUN}}</h3></td>
                                        <td><h3 class="right">{{data.JUL}}</h3></td>
                                        <td><h3 class="right">{{data.AUG}}</h3></td>
                                        <td><h3 class="right">{{data.SEP}}</h3></td>
                                </tr>
                        </tbody>
                </table>
            </div> 
    

        </ion-card-content>
      </ion-card>
  
  </ion-content>-->
  