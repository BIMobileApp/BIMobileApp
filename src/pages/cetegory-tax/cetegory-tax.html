<ion-header>
  <ion-navbar color="navber">
    <ion-title>
      ผลการจัดเก็บภาษีกรมสรรพสามิต<br>
      ผู้ใช้งาน : {{username}}
    </ion-title>
  </ion-navbar>

</ion-header>

<ion-content padding text-center [class.disable-scrolling]='isScaling' [style.fontSize]="fontSize">
  <div style="border-bottom: solid 1px #2c95eb ; background-color: rgb(213, 241, 241)">
    <ion-item (click)="toggleMapShow()" no-lines>
      <ion-label class="toggleLabel"> >> แผนที่แสดงผลการจัดเก็บภาษี ทั่วประเทศ</ion-label>
    </ion-item>
  </div>
  <div *ngIf="toggleMap==1">
    <br>
    <h1 class="header-style">แผนที่แสดงผลการจัดเก็บภาษี ทั่วประเทศ</h1>
    <h2 class="header-style">{{dateAsOff}}</h2>
    <!--  <div *ngIf="off=='00' "> -->
    <img class="img-size" src="../../assets/imgs/thailandhello1.png" />
    <div *ngIf="off=='00' ">
      <h1 class="header-style">ตามรายภาค</h1>
      <button ion-button (click)="section1()">ภาค 1</button>
      <button ion-button (click)="section2()">ภาค 2</button>
      <button ion-button (click)="section3()">ภาค 3</button>
      <button ion-button (click)="section4()">ภาค 4</button>
      <button ion-button (click)="section5()">ภาค 5</button>
      <button ion-button (click)="section6()">ภาค 6</button>
      <button ion-button (click)="section7()">ภาค 7</button>
      <button ion-button (click)="section8()">ภาค 8</button>
      <button ion-button (click)="section9()">ภาค 9</button>
      <button ion-button (click)="section10()">ภาค 10</button><br>
    </div><br>
  </div>

  <!--/////////////////////////////////////////////////// Bar Chart ///////////////////////////////////////////////-->
  <div style="border-bottom: solid 1px #2c95eb ; background-color: rgb(213, 241, 241)">
    <ion-item (click)="toggleBarShow()" no-lines>
      <ion-label class="toggleLabel"> >> กราฟเปรียบเทียบสรุปการจัดเก็บภาษี</ion-label>
    </ion-item>
  </div>
  <div *ngIf="toggleBar==1">
    <br>
    <h1 class="header-style"> กราฟเปรียบเทียบสรุปการจัดเก็บภาษี</h1>
    <h2 class="header-style">{{dateAsOff}}</h2>

    <ion-card>
      <ion-card-content>
        <div *ngIf="barIsNull=='0' ">
          <br><br><br><br>
          <h2 style="text-align: center; color: rgb(107, 105, 105)" [style.fontSize]="fontSize">ไม่มีข้อมูลในฐานข้อมูล</h2>
          <br><br><br><br>
        </div>
        <div *ngIf="barIsNull=='1' ">
          <canvas #barCanvas></canvas>
        </div>
      </ion-card-content>
    </ion-card>
    <br>
  </div>
  <!--////////////////////////////////////////////////  Table ////////////////////////////////////////////////////-->
  <div style="border-bottom: solid 1px #2c95eb ; background-color: rgb(213, 241, 241)">
    <ion-item (click)="toggleTableShow()" no-lines>
      <ion-label class="toggleLabel"> >> ตารางแสดงภาษีประจำปีงบประมาณปัจจุบัน</ion-label>
    </ion-item>
  </div>
  <div *ngIf="toggleTable==1">
    <div pinch (pinchstart)="onPinchStart($event)" (pinchend)="onPinchEnd($event)" (pinchmove)="onPinchMove($event)">
      <ion-grid no-padding>

        <ion-row>
          <ion-col>
            <ion-item class="size">
              <ion-label> ภาค : </ion-label>
              <ion-select [(ngModel)]="area" (ionChange)="selectionProvince(area,Province,typeCur)">
                <ion-option value="undefined" [selected]="true">ทั้งหมด</ion-option>
                <ion-option *ngFor="let item of responseArea" value="{{item.REGION_NAME}}">{{item.REGION_NAME}}</ion-option>
              </ion-select>
            </ion-item>
          </ion-col>

          <ion-col>
            <ion-item class="size">
              <ion-label>จังหวัด : </ion-label>
              <ion-select [(ngModel)]="Province" (ionChange)="TableGetData(area,Province,typeCur)">
                <ion-option value="undefined" [selected]="true">ทั้งหมด</ion-option>
                <ion-option *ngFor="let item1 of responseProvince" value="{{item1.PROVINCE_NAME}}"  [style.fontSize]="fontSize">{{item1.PROVINCE_NAME}}</ion-option>
              </ion-select>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>

      <h1 class="header-style">ตารางแสดงภาษีประจำปีงบประมาณปัจจุบัน ตามรายเดือน</h1>
      <h2 class="header-style">{{dateAsOff}}</h2>
      <ion-item class="sizemini" no-lines>
        <ion-label> หน่วย : </ion-label>
        <ion-select [(ngModel)]="typeCur" #item (ionChange)="ChangeCur(area, Province, typeCur)">
          <ion-option value="B" [selected]="true" [style.fontSize]="fontSize">บาท</ion-option>
          <ion-option value="M" [style.fontSize]="fontSize">ล้านบาท</ion-option>
        </ion-select>
      </ion-item>

      <ion-card>
        <ion-card-content no-padding>

          <div class="table-responsive">
            <table style="width: 100%;">
              <thead>
                <tr style="background-color: #F78B26; ">
                  <th width="10%">
                    <h3 class='th-center'  [style.fontSize]="fontSize">เดือน</h3>
                  </th>
                  <th>
                    <h3 class='th-center'  [style.fontSize]="fontSize">ปีนี้</h3>
                  </th>
                  <th>
                    <h3 class='th-center'  [style.fontSize]="fontSize">ปีก่อน</h3>
                  </th>
                  <th>
                    <h3 class='th-center'  [style.fontSize]="fontSize">ประมาณการ</h3>
                  </th>
                  <th width="15%">
                    <h3 class='th-center'  [style.fontSize]="fontSize">+/-</h3>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let data of DataCurYear">
                  <td width="10%">
                    <h3 class='td-center'  [style.fontSize]="fontSize">{{data.BUDGET_MONTH_DESC}}</h3>
                  </td>
                  <td>
                    <h3 class='td-right'  [style.fontSize]="fontSize">{{data.TAX}}</h3>
                  </td>
                  <td>
                    <h3 class='td-right'  [style.fontSize]="fontSize">{{data.LAST_TAX}}</h3>
                  </td>
                  <td>
                    <h3 class='td-right'  [style.fontSize]="fontSize">{{data.ESTIMATE}}</h3>
                  </td>
                  <td width="15%">
                    <h3 *ngIf="data.PERCENT_TAX > 5 " class='td-right font-green2'  [style.fontSize]="fontSize">{{data.PERCENT_TAX}}</h3>
                    <h3 *ngIf="data.PERCENT_TAX <= 5 && data.PERCENT_TAX > 0 " class='td-right font-green'  [style.fontSize]="fontSize">{{data.PERCENT_TAX}}</h3>
                    <h3 *ngIf="data.PERCENT_TAX < 0 && data.PERCENT_TAX >= -5 " class='td-right font-yellow'  [style.fontSize]="fontSize">{{data.PERCENT_TAX}}</h3>
                    <h3 *ngIf="data.PERCENT_TAX < -5 " class='td-right font-red'  [style.fontSize]="fontSize">{{data.PERCENT_TAX}}</h3>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </ion-card-content>
      </ion-card>

      <h1 class="header-style">ตารางแสดงภาษีประจำปีงบประมาณปัจจุบัน ตามประเภทสินค้า</h1>
      <h2 class="header-style">{{dateAsOff}}</h2>
      <h3 style="padding-right: 2%" class="td-right" >หน่วย : {{curTG}}</h3>
      <ion-card>
        <ion-card-content no-padding>
          <div class="table-responsive">
            <table style="width: 100%;">
              <thead>
                <tr style="background-color: #F78B26; ">
                  <th>
                    <h3 class='td-center'  [style.fontSize]="fontSize">สินค้า</h3>
                  </th>
                  <th>
                    <h3 class='td-center'  [style.fontSize]="fontSize">ปีนี้</h3>
                  </th>
                  <th>
                    <h3 class='td-center'  [style.fontSize]="fontSize">ปีก่อน</h3>
                  </th>
                  <th>
                    <h3 class='td-center'  [style.fontSize]="fontSize">ประมาณการ</h3>
                  </th>
                  <th width="15%">
                    <h3 class='td-center'  [style.fontSize]="fontSize">+/-</h3>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let data of DataProduct">
                  <td>
                    <h3 class='td-left'  [style.fontSize]="fontSize">{{data.GROUP_NAME}}</h3>
                  </td>
                  <td>
                    <h3 class='td-right'  [style.fontSize]="fontSize">{{data.TAX}}</h3>
                  </td>
                  <td>
                    <h3 class='td-right'  [style.fontSize]="fontSize">{{data.LAST_TAX}}</h3>
                  </td>
                  <td>
                    <h3 class='td-right'  [style.fontSize]="fontSize">{{data.ESTIMATE}}</h3>
                  </td>
                  <td width="15%">
                    <h3 *ngIf="data.PERCENT_TAX > 5 " class='td-right font-green2'  [style.fontSize]="fontSize">{{data.PERCENT_TAX}}</h3>
                    <h3 *ngIf="data.PERCENT_TAX <= 5 && data.PERCENT_TAX > 0 " class='td-right font-green'  [style.fontSize]="fontSize">{{data.PERCENT_TAX}}</h3>
                    <h3 *ngIf="data.PERCENT_TAX < 0 && data.PERCENT_TAX >= -5 " class='td-right font-yellow'  [style.fontSize]="fontSize">{{data.PERCENT_TAX}}</h3>
                    <h3 *ngIf="data.PERCENT_TAX < -5 " class='td-right font-red'  [style.fontSize]="fontSize">{{data.PERCENT_TAX}}</h3>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </ion-card-content>
      </ion-card>


      <div *ngIf="hideTableBrance=='2' ">
        <br>
        <h1 class="header-style">ตารางแสดงภาษีประจำปีงบประมาณปัจจุบัน ตามจังหวัด</h1>
        <h2 class="header-style">{{dateAsOff}}</h2>
        <h3 style="padding-right: 2%" class="td-right" >หน่วย : {{curTG}}</h3>
        <ion-card>
          <ion-card-content no-padding>
            <div class="table-responsive">
              <table style="width: 100%;">
                <thead>
                  <tr style="background-color: #F78B26; ">
                    <th>
                      <h3 class='td-center'  [style.fontSize]="fontSize">จังหวัด</h3>
                    </th>
                    <th>
                      <h3 class='td-center'  [style.fontSize]="fontSize">ปีนี้</h3>
                    </th>
                    <th>
                      <h3 class='td-center'  [style.fontSize]="fontSize">ปีก่อน</h3>
                    </th>
                    <th>
                      <h3 class='td-center'  [style.fontSize]="fontSize">ประมาณการ</h3>
                    </th>
                    <th width="15%">
                      <h3 class='td-center'  [style.fontSize]="fontSize">+/-</h3>
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let data of DataProvince">
                    <td>
                      <h3 class='td-left'  [style.fontSize]="fontSize">{{data.PROVINCE_NAME}}</h3>
                    </td>
                    <td>
                      <h3 class='td-right'  [style.fontSize]="fontSize">{{data.TAX}}</h3>
                    </td>
                    <td>
                      <h3 class='td-right'  [style.fontSize]="fontSize">{{data.LAST_TAX}}</h3>
                    </td>
                    <td>
                      <h3 class='td-right'  [style.fontSize]="fontSize">{{data.ESTIMATE}}</h3>
                    </td>
                    <td width="15%">
                      <h3 *ngIf="data.PERCENT_TAX > 5 " class='td-right font-green2'  [style.fontSize]="fontSize">{{data.PERCENT_TAX}}</h3>
                      <h3 *ngIf="data.PERCENT_TAX <= 5 && data.PERCENT_TAX > 0 " class='td-right font-green'  [style.fontSize]="fontSize">{{data.PERCENT_TAX}}</h3>
                      <h3 *ngIf="data.PERCENT_TAX < 0 && data.PERCENT_TAX >= -5 " class='td-right font-yellow'  [style.fontSize]="fontSize">{{data.PERCENT_TAX}}</h3>
                      <h3 *ngIf="data.PERCENT_TAX < -5 " class='td-right font-red'  [style.fontSize]="fontSize">{{data.PERCENT_TAX}}</h3>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </ion-card-content>
        </ion-card>
      </div>

      <div *ngIf="hideTableBrance=='1' ">
        <br>
        <h1 class="header-style">ตารางแสดงภาษีประจำปีงบประมาณปัจจุบัน ตามสาขา</h1>
        <h2 class="header-style">{{dateAsOff}}</h2>
        <h3 style="padding-right: 2%" class="td-right" >หน่วย : {{curTG}}</h3>
        <ion-card>
          <ion-card-content no-padding>
            <div class="table-responsive">
              <table style="width: 100%;">
                <thead>
                  <tr style="background-color: #F78B26; ">
                    <th>
                      <h3 class='td-center'  [style.fontSize]="fontSize">สาขา</h3>
                    </th>
                    <th>
                      <h3 class='td-center'  [style.fontSize]="fontSize">ปีนี้</h3>
                    </th>
                    <th>
                      <h3 class='td-center'  [style.fontSize]="fontSize">ปีก่อน</h3>
                    </th>
                    <th>
                      <h3 class='td-center' [style.fontSize]="fontSize">ประมาณการ</h3>
                    </th>
                    <th width="15%">
                      <h3 class='td-center' [style.fontSize]="fontSize">+/-</h3>
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <td colspan="5">
                    <br><br><br>
                    <h2 style="text-align: center; color: rgb(107, 105, 105)" [style.fontSize]="fontSize">ไม่มีข้อมูลในฐานข้อมูล</h2>
                    <br><br><br>
                  </td>
                  <!--  <tr *ngFor="let data of DataProduct">
                <td><h3 class='td-left'>{{data.GROUP_NAME}}</h3></td>
                <td><h3 class='td-right'>{{data.TAX}}</h3></td>
                <td><h3 class='td-right'>{{data.LAST_TAX}}</h3></td>
                <td><h3 class='td-right'>{{data.ESTIMATE}}</h3></td>
                  <td width="15%">
                    <h3 *ngIf="data.PERCENT_TAX > 5 " class='td-right font-green2'>{{data.PERCENT_TAX}}</h3>
                    <h3 *ngIf="data.PERCENT_TAX <= 5 && data.PERCENT_TAX > 0 " class='td-right font-green'>{{data.PERCENT_TAX}}</h3>
                    <h3 *ngIf="data.PERCENT_TAX < 0 && data.PERCENT_TAX >= -5 " class='td-right font-yellow'>{{data.PERCENT_TAX}}</h3>
                    <h3 *ngIf="data.PERCENT_TAX < -5 " class='td-right font-red'>{{data.PERCENT_TAX}}</h3>
                  </td>
              </tr> -->
                </tbody>
              </table>
            </div>
          </ion-card-content>
        </ion-card>
      </div>

      <div padding>
        <p class="DataStatus-font" [style.fontSize]="fontSize"> หมายเหตุ :
          <br><img class="desc-img-size" src="../../assets/imgs/green2.png" />&nbsp;สูงกว่าประมาณการ 5%
          <br><img class="desc-img-size" src="../../assets/imgs/green1.png" />&nbsp;มากกว่า 0 น้อยกว่า 5%
          <br><img class="desc-img-size" src="../../assets/imgs/yellow1.png" />&nbsp;0 ถึง -5%
          <br><img class="desc-img-size" src="../../assets/imgs/red1.png" />&nbsp;ต่ำกว่าประมาณการ -5%
        </p>
      </div>
    </div>
  </div>
</ion-content>
